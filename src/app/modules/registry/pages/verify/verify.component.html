<div class="container__form">
  <div class="h-full flex justify-content-center align-items-center p-3">
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()" autocomplete="off"
      class="col sm:col-8 md:col-6 lg:col-5 xl:col-3 p-4 border-round bg-white shadow-1"
    >
      <div class="flex justify-content-center">
        <img src="assets/ISO DUO.png" alt="logo" width="80" />
      </div>

      <div class="flex flex-column justify-content-center gap-1 mb-2">
      <h1 class="text-center mt-2">Registro</h1>
      <small class="text-green-700 font-semibold text-center">
        Finalice su registro.
      </small>
      </div>

      @if (tokenSendByEmail && userEmail) {
        <div class="col-12 flex flex-column gap-3">
          <label for="email">Correo electrónico</label>
          <input
            pInputText
            id="email"
            placeholder="Ingrese su correo"
            formControlName="emailControl"
          />

          <label for="password">Contraseña:</label>
          <input
            id="password"
            type="password"
            placeholder="Ingrese su contraseña:"
            pInputText
            formControlName="passwordControl"
          />

          <span [ngStyle]="{color: 'var(--red-500)', fontSize: '0.9rem'}"
                *ngIf="isValidField(myForm, 'passwordControl')"
          >
            {{ getFieldError(myForm, 'passwordControl')}}
          </span>

          <label for="email">Repetir contraseña:</label>
          <input
            id="repeatPassword"
            type="password"
            placeholder="Repita su contraseña"
            pInputText
            formControlName="passwordRepeatControl"
          />
        </div>

        <span [ngStyle]="{color: 'var(--red-500)', fontSize: '0.9rem'}"
              *ngIf="isValidField(myForm, 'passwordRepeatControl')"
        >
          {{ getFieldError(myForm, 'passwordRepeatControl')}}
        </span>

        <button
          pButton
          label="Registrarme"
          [icon]="isButtonDisabled ? 'pi pi-spin pi-spinner' : 'pi pi-check-circle'"
          class="w-full"
          [disabled]="this.isButtonDisabled"
        ></button>
      }

      @if (tokenSendByEmail && !userEmail) {
        <div class="col-12 flex flex-column gap-3">
          <div class="flex justify-content-center mb-1">
            <img src="assets/love.png" alt="logo" width="80" />
          </div>
          <small class="text-green-700 font-light">
            Estamos validando tu proceso...
          </small>
        </div
        >}
    </form>
  </div>
</div>
